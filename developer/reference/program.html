<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="prev" title="mpilot.parser.parser" href="parser.html" />

    <meta name="generator" content="sphinx-3.5.1, furo 2021.02.28.beta28"/>
        <title>mpilot.program - MPilot documentation</title>
      <link rel="stylesheet" href="../../_static/styles/furo.css?digest=be5985a4059b5c2cd56ed0804790452beca62674">
    <link rel="stylesheet" href="../../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="../../_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">MPilot  documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">MPilot  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../user/index.html">Using MPilot</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../user/libraries-ref.html">MPilot Libraries Reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../user/lib-eems-csv.html">EEMS CSV I/O</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user/lib-eems-netcdf.html">EEMS NetCDF I/O</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user/lib-eems-basic.html">EEMS Basic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../user/lib-eems-fuzzy.html">EEMS Fuzzy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Developing with MPilot</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/index.html">Programming Guides</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/working-with-models.html">Working with Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/creating-commands.html">Creating Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/creating-parameters.html">Creating Parameters</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">Python Module Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="arguments.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpilot.arguments</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="commands.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpilot.commands</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="exceptions.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpilot.exceptions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="params.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpilot.params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="parser.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpilot.parser.parser</span></code></a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpilot.program</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="module-mpilot.program">
<span id="mpilot-program"></span><h1><a class="reference internal" href="#module-mpilot.program" title="mpilot.program"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpilot.program</span></code></a><a class="headerlink" href="#module-mpilot.program" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="mpilot.program.Program">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">mpilot.program.</span></code><code class="sig-name descname"><span class="pre">Program</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">libraries</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">EEMS_CSV_LIBRARIES</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">working_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpilot.program.Program" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">Program</span></code> class contains the command instances that comprise the model, and is responsible for running the
model by building a dependency tree and running any “leaf” nodes (those which no other nodes depend on). Before the
leaf nodes are run, they resolve their dependencies, which in turn resolve <em>their</em> dependencies, and so on in a
recursive nature until the root nodes are run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>libraries</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) – A list of command libraries to use in this program. The specified libraries will be
used to look up commands. Command names must be unique across libraries; importing two libraries that have the
same command names will raise an exception.</p></li>
<li><p><strong>working_dir</strong> (<em>str</em>) – The working directory is used to resolve relative paths used in the model. If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
relative paths are invalid and will raise an exception. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="mpilot.program.Program.commands">
<code class="sig-name descname"><span class="pre">commands</span></code><em class="property"><span class="pre">:</span> <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Command</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#mpilot.program.Program.commands" title="Permalink to this definition">¶</a></dt>
<dd><p>A lookup of commands in the program by result name, in the form of <code class="docutils literal notranslate"><span class="pre">{result_name:</span> <span class="pre">command,</span> <span class="pre">...}</span></code>.</p>
</dd></dl>
<dl class="py attribute">
<dt id="mpilot.program.Program.command_library">
<code class="sig-name descname"><span class="pre">command_library</span></code><em class="property"><span class="pre">:</span> <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">Command</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#mpilot.program.Program.command_library" title="Permalink to this definition">¶</a></dt>
<dd><p>A lookup of command classes by name.</p>
</dd></dl>
<dl class="py attribute">
<dt id="mpilot.program.Program.working_dir">
<code class="sig-name descname"><span class="pre">working_dir</span></code><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#mpilot.program.Program.working_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>The program’s working directory, if set.</p>
</dd></dl>
<dl class="py method">
<dt id="mpilot.program.Program.load_commands">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">load_commands</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">module</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> → <span class="pre">None</span><a class="headerlink" href="#mpilot.program.Program.load_commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Discovers and loads commands from the given module and any sub modules. This method is mostly used internally.</p>
</dd></dl>
<dl class="py method">
<dt id="mpilot.program.Program.from_source">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_source</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">libraries</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">EEMS_CSV_LIBRARIES</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">working_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpilot.program.Program.from_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a program from MPilot source code</p>
</dd></dl>
<dl class="py method">
<dt id="mpilot.program.Program.find_command_class">
<code class="sig-name descname"><span class="pre">find_command_class</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> → <span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="commands.html#mpilot.commands.Command" title="mpilot.commands.Command"><span class="pre">mpilot.commands.Command</span></a><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#mpilot.program.Program.find_command_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks up and returns a command class by name, or returns None if the command doesn’t exist.</p>
</dd></dl>
<dl class="py method">
<dt id="mpilot.program.Program.add_command">
<code class="sig-name descname"><span class="pre">add_command</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command_cls</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">Command</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lineno</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> → <span class="pre">None</span><a class="headerlink" href="#mpilot.program.Program.add_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a command to the program and the arguments required to run it. This is the primary method used when
constructing a model programmatically. The command class can be obtained by importing it from the appropriate
module, or by using <a class="reference internal" href="#mpilot.program.Program.find_command_class" title="mpilot.program.Program.find_command_class"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_command_class()</span></code></a> to search for a command by name.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">read_cls</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">find_command_class</span><span class="p">(</span><span class="s1">'EEMSRead'</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">read_cls</span><span class="p">,</span> <span class="s1">'Var_A'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'InFileName'</span><span class="p">:</span> <span class="s1">'input.csv'</span><span class="p">,</span> <span class="s1">'InFieldName'</span><span class="p">:</span> <span class="s1">'Var_A'</span><span class="p">})</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command_cls</strong> (<em>Type</em><em>[</em><a class="reference internal" href="commands.html#mpilot.commands.Command" title="mpilot.commands.Command"><em>Command</em></a><em>]</em>) – The class of the command to add. This can be obtained by calling
<a class="reference internal" href="#mpilot.program.Program.find_command_class" title="mpilot.program.Program.find_command_class"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_command_class()</span></code></a> with the name of the command.</p></li>
<li><p><strong>result_name</strong> (<em>str</em>) – The name of the result. This is equivalent to the left side of the <code class="docutils literal notranslate"><span class="pre">=</span></code> in an MPilot
command file: <code class="docutils literal notranslate"><span class="pre">&lt;result&gt;</span> <span class="pre">=</span> <span class="pre">&lt;command&gt;(&lt;arguments&gt;)</span></code></p></li>
<li><p><strong>Any</strong><strong>] </strong><strong>arguments</strong> (<em>Dict</em><em>[</em><em>str</em><em>,</em>) – A dictionary of arguments to be sent to the command. E.g.,
<code class="docutils literal notranslate"><span class="pre">{'InFileName':</span> <span class="pre">'input.csv'}</span></code></p></li>
<li><p><strong>lineno</strong> (<em>int</em>) – <em>Optional</em>. The line number the command appears on. This should be the first line in which the
command occurs in the command file. This is used in error reporting by the command-line program, and may be
set to <code class="docutils literal notranslate"><span class="pre">None</span></code> when being used from Python.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt id="mpilot.program.Program.to_string">
<code class="sig-name descname"><span class="pre">to_string</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> → <span class="pre">str</span><a class="headerlink" href="#mpilot.program.Program.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string with commands formatted in the MPilot command file syntax.</p>
</dd></dl>
<dl class="py method">
<dt id="mpilot.program.Program.to_file">
<code class="sig-name descname"><span class="pre">to_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_or_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">TextIO</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> → <span class="pre">None</span><a class="headerlink" href="#mpilot.program.Program.to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the program as an MPilot command file.</p>
</dd></dl>
<dl class="py method">
<dt id="mpilot.program.Program.run">
<code class="sig-name descname"><span class="pre">run</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mpilot.program.Program.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="py data">
<dt id="mpilot.program.EEMS_CSV_LIBRARIES">
<code class="sig-prename descclassname"><span class="pre">mpilot.program.</span></code><code class="sig-name descname"><span class="pre">EEMS_CSV_LIBRARIES</span></code><em class="property"> <span class="pre">=</span> <span class="pre">Libraries</span> <span class="pre">required</span> <span class="pre">for</span> <span class="pre">CSV-based</span> <span class="pre">EEMS</span> <span class="pre">models</span></em><a class="headerlink" href="#mpilot.program.EEMS_CSV_LIBRARIES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="py data">
<dt id="mpilot.program.EEMS_NETCDF_LIBRARIES">
<code class="sig-prename descclassname"><span class="pre">mpilot.program.</span></code><code class="sig-name descname"><span class="pre">EEMS_NETCDF_LIBRARIES</span></code><em class="property"> <span class="pre">=</span> <span class="pre">Libraries</span> <span class="pre">required</span> <span class="pre">for</span> <span class="pre">NetCDF-based</span> <span class="pre">EEMS</span> <span class="pre">models</span></em><a class="headerlink" href="#mpilot.program.EEMS_NETCDF_LIBRARIES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="parser.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mpilot.parser.parser</span></code></div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Conservation Biology Institute
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../../_sources/developer/reference/program.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>